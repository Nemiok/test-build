(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6846:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var n,a=r(5893),i=r(7294),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=(n=Object.create(null),function(e){return void 0===n[e]&&(n[e]=s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&91>e.charCodeAt(2)),n[e]}),l=function(){let e=Array.prototype.slice.call(arguments).filter(Boolean),t={},r=[];e.forEach(e=>{(e?e.split(" "):[]).forEach(e=>{if(e.startsWith("atm_")){let[,r]=e.split("_");t[r]=e}else r.push(e)})});let n=[];for(let e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(t[e]);return n.push(...r),n.join(" ")},c=e=>e.toUpperCase()===e,d=e=>t=>-1===e.indexOf(t),u=(e,t)=>{let r={};return Object.keys(e).filter(d(t)).forEach(t=>{r[t]=e[t]}),r},p=(e,t)=>{},f=function(e){return t=>{let r=(r,n)=>{let{as:a=e,class:s=""}=r,d=function(e,t,r){let n=u(t,r);if(!e){let e="function"==typeof o?{default:o}:o;Object.keys(n).forEach(t=>{e.default(t)||delete n[t]})}return n}(void 0===t.propsAsIs?!("string"==typeof a&&-1===a.indexOf("-")&&!c(a[0])):t.propsAsIs,r,["as","class"]);d.ref=n,d.className=t.atomic?l(t.class,d.className||s):l(d.className||s,t.class);let{vars:f}=t;if(f){let e={};for(let n in f){let a=f[n],i=a[0],s=a[1]||"",o="function"==typeof i?i(r):i;p(o,t.name),e[`--${n}`]=`${o}${s}`}let n=d.style||{},a=Object.keys(n);a.length>0&&a.forEach(t=>{e[t]=n[t]}),d.style=e}return e.__linaria&&e!==a?(d.as=a,i.createElement(e,d)):i.createElement(a,d)},n=i.forwardRef?i.forwardRef(r):e=>r(u(e,["innerRef"]),e.innerRef);return n.displayName=t.name,n.__linaria={className:t.class||"",extends:e},n}};r(7312);let g=f("span")({name:"Icon",class:"sdsIcon__igwdj7z",propsAsIs:!1,vars:{"igwdj7z-0":[({sizeProp:e})=>`${e}px`],"igwdj7z-1":[({sizeProp:e,nameProp:t})=>`url(https://cdn-sds.obs.ru-moscow-1.hc.sbercloud.ru/sds-icons/${e>=24?24:16}-${t}.svg?v=1)`]}}),h=f(g)({name:"AnimatedIcon",class:"sdsIcon__ahhycyd",propsAsIs:!0}),m=(0,i.forwardRef)(({size:e,name:t,...r},n)=>"spinnerLoader"===t?(0,a.jsx)(h,{nameProp:t,ref:n,sizeProp:e,...r}):(0,a.jsx)(g,{nameProp:t,ref:n,sizeProp:e,...r}));r(7011);let y={accent:{backgroundColor:"var(--surface-ondark-transparent-tertiary)",color:"var(--text-icons-default-accent-primary)"},white:{backgroundColor:"var(--surface-onlight-transparent-tertiary)",color:"var(--text-icons-ondark-general-primary)"},default:{backgroundColor:"var(--surface-ondark-transparent-tertiary)",color:"var(--text-icons-onlight-general-primary)"}},v={l:"48px",m:"40px",s:"32px",xs:"24px"},k=f("span")({name:"Loader",class:"sdsLoader__lgwdj7z",propsAsIs:!1,vars:{"lgwdj7z-0":[({size:e})=>v[e]],"lgwdj7z-1":[({hasBackground:e})=>e?"blur(4px)":"none"],"lgwdj7z-2":[({variant:e,hasBackground:t,customColors:r})=>t?void 0===r?y[e].backgroundColor:r.background:"transparent"],"lgwdj7z-3":[({variant:e,customColors:t})=>void 0===t&&void 0!==e?y[e].color:void 0!==t?t.color:"currentColor"]}}),x=(0,i.forwardRef)((e,t)=>{let{variant:r="default",size:n="m",hasBackground:i=!1,customColors:s}=e;return(0,a.jsx)(k,{customColors:s,hasBackground:i,...e,ref:t,size:n,variant:r,children:(0,a.jsx)(m,{name:"spinnerLoader",size:{l:36,m:24,s:24,xs:16}[n]})})});r(8260);let w="var(--surface-default-solid-primary)",b="var(--text-icons-default-general-primary)",A=f("div")({name:"Container",class:"sdsSMSField__cgwdj7z",propsAsIs:!1}),C=f("div")({name:"CharFieldsContainer",class:"sdsSMSField__chhycyd",propsAsIs:!1}),S={default:w,warning:"var(--surface-default-status-warning-softer)",loading:w},j={default:b,warning:b,loading:"var(--text-icons-default-general-secondary)"},_=f("input")({name:"CharField",class:"sdsSMSField__c138vcdl",propsAsIs:!1,vars:{"c138vcdl-0":[({variant:e,isError:t})=>t?S.warning:S[e]],"c138vcdl-1":[({variant:e})=>j[e]],"c138vcdl-2":[({variant:e,disabled:t})=>"loading"===e||t?.5:1]}}),E=f("p")({name:"ErrorMessage",class:"sdsSMSField__e2rlal3",propsAsIs:!1}),I=f("div")({name:"LoaderContainer",class:"sdsSMSField__l1yy1ila",propsAsIs:!1}),R=(0,i.forwardRef)(({variant:e="default",length:t=6,errorMessage:r="Неверный код",value:n,name:s,disabled:o=!1,autoComplete:l="off",onChange:c,onComplete:d,inputMode:u,...p},f)=>{let g=(0,i.useRef)(),h=(0,i.useRef)(new Map),m=void 0===n?"":String(n),[y,v]=(0,i.useState)([...m].slice(0,t)),k=(0,i.useCallback)((e,t)=>{e?h.current.set(t,e):h.current.delete(t)},[]);(0,i.useEffect)(()=>{if(y.join("")!==m){let e=new Event("input",{bubbles:!0});g.current?.dispatchEvent(e)}},[y]),(0,i.useEffect)(()=>{h.current.forEach((e,t)=>{e.value=m[t]??""})},[m]),(0,i.useEffect)(()=>{m.length===t&&d?.()},[m,t]);let w=(e,r)=>{let n=[...h.current.values()].map(e=>e.value);1===r.length?n[e]=r:r.length===t?n=[...r]:(n.splice(e,1,...r),n.length=t),v(n)},b=e=>{h.current.get(e).value=""},S=e=>{b(e),w(e,"")},j=e=>{let r=e===t-1?t-1:e;h.current.get(r).focus(),S(e)},R=e=>{let r=e===t-1?t-1:e+1;h.current.get(r).focus(),S(r)},P=e=>{let t=e<=0?0:e;h.current.get(t).focus(),S(e)},T=e=>{let t=e<=0?0:e-1;h.current.get(t).focus(),S(t)},z=(e,t)=>{if(["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key)){e.preventDefault();return}let r=h.current.get(t).value.length>0,n=!r;e.target instanceof HTMLInputElement&&[1,2,3,4,5,6,7,8,9,0].includes(Number(e.key))&&b(t),"Backspace"===e.key&&r?P(t):"Backspace"===e.key&&n&&T(t),"Delete"===e.key&&r?j(t):"Delete"===e.key&&n&&R(t)},M=(e,r)=>{let n=e.target.value;if(!/^\d+$/.test(n)){e.preventDefault();return}h.current.get(r===t-1?r:r+1).focus(),w(r,n)};return(0,a.jsxs)(A,{children:[(0,a.jsx)("input",{name:s,ref:e=>{g.current=e,"function"==typeof f?f(e):f&&(f.current=e)},type:"hidden",value:y.join(""),onInput:c}),(0,a.jsxs)(C,{children:[Array.from({length:t}).map((t,r)=>(0,a.jsx)(_,{"aria-label":`Поле для ввода СМС кода ${r+1}`,autoComplete:l,disabled:"loading"===e||o,inputMode:u??"numeric",isError:"warning"===e,ref:e=>k(e,r),value:h?.current?.get(r)?.value??"",variant:e,onChange:e=>M(e,r),onKeyDown:e=>z(e,r),onPaste:()=>b(r),...p},r)),"loading"===e&&(0,a.jsx)(I,{children:(0,a.jsx)(x,{size:"l",variant:"accent"})})]}),"warning"===e&&r.length>0&&(0,a.jsx)(E,{children:r})]})});var P=f("div")({name:"Layout",class:"lqeiq48",propsAsIs:!1});r(7852);var T=function(e){var t=e.children;return(0,a.jsx)(P,{children:t})},z=function(){var e=(0,i.useState)(""),t=e[0],r=e[1];return console.log(t),(0,a.jsx)(T,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Index Page"}),(0,a.jsx)(R,{value:t,onChange:function(e){r(e.target.value)}})]})})},M=function(){return(0,a.jsx)(z,{})}},8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6846)}])},8260:function(){},7312:function(){},7011:function(){},7852:function(){}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);